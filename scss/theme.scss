/*

In this file:

// A. SCSS imports (required)
// B. Theme styles

*/

////////////////////////////////////////
// A. SCSS imports (Required)
////////////////////////////////////////

// Import custom SCSS

@import "a-global-variables.scss";
@import "b-bootstrap-imports.scss";
@import "c-custom-mixins.scss";
@import "d-enhancements.scss";
@import "e-supplementary-classes.scss";
@import "f-ui-elements.scss";
@import "g-dev-tools.scss";

////////////////////////////////////////
// B. Theme styles
////////////////////////////////////////

// Put anything you want here

// Theme Fonts

.f-serif{ font-family: Georgia, 'Times New Roman', Times, serif; }

.f-sans-serif{ font-family: 'Roboto', sans-serif; }

.f-for-kids{ font-family: 'Mali', cursive; }

// Font styles

body{ @extend .f-sans-serif; }

p{ 
  @extend .f-serif;

  &.h1, 
  &.h2, 
  &.h3, 
  &.h4, 
  &.h5, 
  &.h6
  { @extend .f-sans-serif; }
}

// For Kids Font styles

main.for-kids, 
main.for-kids p {
  @extend .f-for-kids;
}

main.for-kids{

  h1, 
  h2, 
  h3, 
  h4, h5, h6
  { line-height: .85; }

  p{
    @extend .fs-lg;
  }
  
}

////////////////////////////////////////
// Global Navigation
////////////////////////////////////////

#mobile-menu,
#primary-navigation-desktop{
  li.leader{
    font-weight: $font-weight-bold;
    color: $primary;
  }
}

#mobile-menu,
#global-links{
  ul:not(.horizontal){ 
    font-size: $fs-md;
  }
}

#primary-navigation-desktop{

  > ul, 
  > ul > li{
    display: flex;
  }

  > ul > li{ 
    position: relative;
    align-self: stretch;

    &.current > a{
      color: $secondary;
    }
  }
  
  > ul > li > a{ align-self: center; }

  > ul > li > a{
    @extend .align-self-center; 
    color: $body-color;
    font-size: $fs-lg;

    &.active{ @extend .text-muted; }
  }

  a.donate{ font-weight: $font-weight-normal; }

  .sub{
    @extend .shadow;
    margin-top: 0;

    background: $dark;
    position: absolute;
    padding: $spacer-3 ;
    font-size: $fs-md;
    min-width: 200px;

    top: 100%;
    left: -($spacer-3);

    a{ color: white; }

    display: none;

    &.active{ display: block; }
  }
}

// Mobile Menu

#mobile-menu{
  
  // Child links (accordion)
  
  ul > li > a { color: white; }

  // Child links (accordion)

  .card{ 
    &:first-child a[data-toggle="collapse"]{ border: 0; }
    background: $transparent;
  }

  .card-header{
    color: $body-color;
    font-size: $fs-lg;
    padding-top: $spacer-1;
    padding-bottom: $spacer-1;
    

    &[aria-expanded="true"]{
      border-top-color: $border-color;
      background: $transparent;
    }

    .title{ font-weight: $font-weight-normal; }
  }
}

////////////////////////////////////////
// Translate
////////////////////////////////////////

$search-button-width: 2rem;

form[role="search"]{
  
  .input-group{ @extend .position-relative; }

  input{ padding-right: $search-button-width; }

  button{
    @extend .position-absolute;
    @extend .z-index-900;
    @extend .h-100;
    width: $search-button-width;

    right: 0;
  }

}

#gtranslate_selector{
  @extend .form-control;
  @extend .form-control-sm;
}

// All Links

#global-links{
  li > a { @extend .text-body; }
}

// // extensible-list colors

#aside-nav{

  li > a{ color: white; }

  li.current_page_item > a {
    color: $primary; 
    font-weight: $font-weight-bold;
  }

}

////////////////////////////////////////
// Featured Panels and Blocks
////////////////////////////////////////

a.featured-article{
  color: $body-color;

  div{ 
    position: relative; 
    margin-bottom: $spacer-2;

    > span{
      position: absolute; 
      font-size: $fs-md;
      background: $primary;
      margin-left: $spacer-2; 
      margin-right: $spacer-2; 
      padding: $spacer-1 $spacer-2; 
      bottom: 0;
    }
  }
  
  .h5{
    font-weight: $font-weight-bold;
    padding-left: $spacer-2; 
    padding-right: $spacer-2; 
  }

}

////////////////////////////////////////
// Infographics
////////////////////////////////////////

#map-affiliates{
  
  width: 100%;

  height: 250px;

  @include media-breakpoint-up(sm){ height: 350px;  }

  @include media-breakpoint-up(md){ height: 425px; }

  @include media-breakpoint-up(lg){ height: 500px; }

  @include media-breakpoint-up(xl){ height: 550px; }

  @include media-breakpoint-up(xxl){ height: 600px; }
  
  @include media-breakpoint-up(xxxl){ height: 750px; }
}

span.fa-circle{
  &.office{ color: #FFCC4E; }
  &.affiliate{ color: #BC95C4; }
  &.chapter{ color: #F58E8B; }
  &.partner-organization{ color: #C1BFB7; }
}

////////////////////////////////////////
// Leaflet UI
////////////////////////////////////////

.leaflet-popup-content-wrapper {
  @extend .rounded;
  @extend .shadow-lg;
  padding: $spacer-1;
}

.leaflet-popup-content {
  font-size: $fs-md;

  p{
    margin-bottom: 0;
    &.location { color: $text-muted; }
  }
}

$leaflet-button-size: 40px;
$leaflet-button-bg: theme-color("info");
$leaflet-button-color: white;

#map-affiliates{

  .leaflet-bar{
    margin-left:1rem;
    margin-bottom:1rem;
  }

  .leaflet-bar, 
  .leaflet-bar a {
    box-shadow: none;
    border: 0;
  }

  .leaflet-bar a {
    @extend .rounded-circle;
    @extend .shadow-sm;
    text-indent: 0;
    height: $leaflet-button-size;
    width: $leaflet-button-size;
    line-height: $leaflet-button-size;
    font-size: $fs-md;
    margin-bottom: $spacer-1;
    
    background: $leaflet-button-bg;
    color: $leaflet-button-color;

    @include hover-focus { 
      background: $leaflet-button-bg;
      text-decoration: none;
    }

    &.leaflet-disabled{ span{ @extend .opacity-30; } }
  }

}

////////////////////////////////////////
// Decorative
////////////////////////////////////////

.cheetah-spots{  @include apply-background-image('cheetah-spots'); }

.pattern-border-top-bottom{
  @extend .position-relative;

  &::before,
  &::after {
    content: "\00a0";
    position: absolute;
    width: 100%;
    height: 40px;
    left: 0;
  }

  &::before {
    top: 0;
    
    @include apply-background-image('pattern-01');
  }

  &::after {
    bottom: 0;
    
    @include apply-background-image('pattern-02');
  }
}

.pattern-border-top{
  
  @extend .position-relative;

  &::before{
    content: "\00a0";
    position: absolute;
    width: 100%;
    height: 30px;
    left: 0;
  }

  &::before {
    top: 0;
    
    @include apply-background-image('pattern-03', '.svg');
  }

}

.pattern-wavy-top{
  
  @extend .position-relative;

  &::before{
    content: "";
    position: absolute;
    width: 100%;
    height: 400px;
    left: 0;

  }

  &::before {
    top: 50%;
    
    @include apply-background-image('wavy-background', '.svg');
  }

}



.pattern-border-colored{

  @extend .py-4;
  
  @extend .position-relative;

  &::before,
  &::after {
    content: "\00a0";
    position: absolute;
    width: 100%;
    height: 15px;
    left: 0;
  }

  &::before {
    top: .5rem;
    @include apply-background-image('pattern-colored-angles', '.svg');
  }
  &::after {
    bottom: .5rem;
    @include apply-background-image('pattern-colored-angles', '.svg');
  }

}

dl p{ margin-bottom: 0.5rem; }

figure{
  @extend .figure;

  figcaption{
    @extend .figure-caption;
    @extend .fs-md;
  }

}

////////////////////////////////////////
// Blockquotes
////////////////////////////////////////

blockquote{
  @extend .blockquote;

  > p { 
    @extend .f-sans-serif;
    // @extend .font-weight-bold;
    @extend .font-italic;
  }

  .blockquote-footer {
    @extend .fs-md;

    cite{ @extend .d-block; }
    &::before { @extend .d-none;  }
  }

   &.pullout > p{
    @extend .d-inline;
    
    background-image: linear-gradient(
      45deg, 
      rgba($yellow, 0.75) 0%, 
      rgba($yellow, 0.75) 100%
    );
    
    background-repeat: no-repeat;
    background-size: 100% 0.25rem;
    background-position: 0 100%;
    padding: 0.125rem 0;
  }

}


.text-block{

  > ul:not([class]){
    @extend .f-serif;
    @extend .fs-rg;
  }

}

////////////////////////////////////////
// Figures
////////////////////////////////////////

figure{ @extend .my-0; }

.figure-img, 
.figure-info 
{ @extend .mb-1; }

figcaption a { @extend .blended-link; }


////////////////////////////////////////
// Modal
////////////////////////////////////////

.ekko-lightbox{
  
  @extend .text-white;
  
  .modal-content,
  .modal-header,
  .modal-footer,
  .modal-body
  {
    @extend .p-0;
    @extend .border-0;
    background: none;
  }

  .modal-body{ @extend .shadow-lg; }
  
  .modal-header,
  .modal-footer{
    @extend .py-1;
  }

  .modal-footer{
    @extend .fs-md;
    @extend .justify-content-start;
    @extend .px-1;
  }
  
}

::-moz-selection { background: rgba(theme-color("primary"), 0.5); }
::selection { background: rgba(theme-color("primary"), 0.5); }

figure.right{
  float: right;
  margin: 1rem;
  margin-right: -($floated-figure-offset-x);

  @include media-breakpoint-down(md) {
    float: none;
    margin-left: auto;
    margin-right: auto;
    

   }


}

#news-menu{
  a{
    @extend .text-white;

    @include hover-focus {
      text-decoration: none;
    }

    &.active{
    @extend .text-primary;
      @extend .font-weight-bold;
    }
  }
}

  p:empty {
    display: none !important;
 }

.blog{
  .banner-block,
  .two-figure-block{
    max-width:1800px;
    margin-left: auto;
    margin-right: auto; 
  }

}


hr.dark{
  border-top-color: rgba($dark, 0.5); 
}


.modal-footer{ @extend .d-block; }

.cool-stuff{
  min-height: 800px;
}

// .ekko-lightbox{

//   @extend .modal-dialog-centered;
//   .modal-dialog{


//   }
// }